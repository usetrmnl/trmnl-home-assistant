# TRMNL HA - Docker Compose Configuration
# Copy this file to .env and configure your settings

# ==============================================================================
# REQUIRED: HOME ASSISTANT CONNECTION
# ==============================================================================

# Your Home Assistant URL
# - If HA is in Docker with default name: http://homeassistant:8123
# - If HA is on same host: http://host.docker.internal:8123
# - If HA is on network: http://192.168.1.100:8123
# - If using Nabu Casa: https://your-id.ui.nabu.casa
HA_URL=http://homeassistant:8123

# Long-lived access token from Home Assistant
# Create one: Profile → Long-Lived Access Tokens → Create Token
# IMPORTANT: Keep this secure! Add .env to .gitignore
HA_TOKEN=your_long_lived_access_token_here

# ==============================================================================
# OPTIONAL: BROWSER SETTINGS
# ==============================================================================

# Keep browser open between requests (faster, uses more memory)
# Set to true for better performance if you have frequent captures
KEEP_BROWSER_OPEN=false

# Browser idle timeout before cleanup (milliseconds)
BROWSER_TIMEOUT=60000

# Max screenshots before proactive browser restart (memory cleanup)
MAX_SCREENSHOTS_BEFORE_RESTART=100

# ==============================================================================
# OPTIONAL: LOGGING
# ==============================================================================

# Enable debug logging for troubleshooting
DEBUG_LOGGING=false

# Log level: trace, debug, info, warning, error, fatal
LOG_LEVEL=info

# ==============================================================================
# OPTIONAL: SERVER SETTINGS
# ==============================================================================

# Port to expose the web UI (default: 10000)
PORT=10000

# ==============================================================================
# NOTES FOR DOCKER CONTAINER USERS
# ==============================================================================
#
# Home Assistant Container installations don't support add-ons, but you can
# run TRMNL HA as a standalone Docker container using docker-compose.
#
# Setup Steps:
#   1. Copy this file: cp .env.example .env
#   2. Edit .env with your settings (especially HA_URL and HA_TOKEN)
#   3. Start: docker compose up -d
#   4. Check health: docker compose ps
#   5. View logs: docker compose logs -f
#   6. Access UI: http://localhost:10000
#
# Networking:
#   - If HA container uses default bridge network, use: http://homeassistant:8123
#   - If HA uses custom network, uncomment the networks section in docker-compose.yml
#   - To find HA's network: docker inspect homeassistant | grep NetworkMode
#
# Troubleshooting:
#   - Can't connect to HA? Check HA_URL and ensure containers can communicate
#   - Browser crashes? Increase mem_limit in docker-compose.yml
#   - Need help? https://github.com/usetrmnl/trmnl-home-assistant/issues
